{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.org/schemas/federation/federated_query.schema.json",
  "title": "FederatedOracleQuery",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "federation_id",
    "query_id",
    "candidate_id",
    "query_kind",
    "requested_metric",
    "split",
    "target_vaults"
  ],
  "properties": {
    "federation_id": {
      "type": "string"
    },
    "query_id": {
      "type": "string"
    },
    "candidate_id": {
      "type": "string"
    },
    "query_kind": {
      "type": "string",
      "enum": [
        "score",
        "compare",
        "slice_score",
        "calibration"
      ]
    },
    "requested_metric": {
      "type": "string"
    },
    "split": {
      "type": "string"
    },
    "slice": {
      "type": "string"
    },
    "target_vaults": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "nonce": {
      "type": "string"
    },
    "timestamp_utc": {
      "type": [
        "string",
        "null"
      ]
    }
  }
}